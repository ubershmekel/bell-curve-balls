var t=Object.defineProperty,e=(e,s,a)=>((e,s,a)=>s in e?t(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a)(e,"symbol"!=typeof s?s+"":s,a);import{p as s}from"./phaser-DM0uoNMb.js";!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const s of t)if("childList"===s.type)for(const t of s.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();class a extends s.Scene{constructor(){super("Boot")}preload(){this.load.image("background","assets/bg.png")}create(){this.scene.start("Preloader")}}class i extends s.Scene{constructor(){super("Game"),e(this,"camera"),e(this,"background"),e(this,"msg_text"),e(this,"balls"),e(this,"pinsCategory",0),e(this,"ballsCategory",0),e(this,"bucketCategory",0),e(this,"bucket"),e(this,"ballsText"),e(this,"lastBallTime",0)}preload(){this.load.image("ball","assets/ball1.png")}create(){this.camera=this.cameras.main,this.camera.setBackgroundColor(0),this.input.once("pointerdown",(()=>{this.scene.start("Game")})),this.matter.world.setBounds(0,0,800,600,32,!0,!0,!1,!1),this.pinsCategory=this.matter.world.nextCategory(),this.ballsCategory=this.matter.world.nextCategory(),this.bucketCategory=this.matter.world.nextCategory();for(let a=0;a<8;a++){let t=50,e=28;a%2==0&&(t=66,e=27);for(let s=0;s<e;s++){const e=3,i=this.matter.add.image(t+32*s,100+38*a,"ball");i.setDisplaySize(2*e,2*e),i.setCircle(e),i.setStatic(!0),i.setBounce(1),i.setCollisionCategory(this.pinsCategory),i.setCollisionGroup(this.ballsCategory)}}const t=this.cameras.main.width,e=this.add.rectangle(t/2,740,t,10,16777215);this.matter.add.gameObject(e,{isStatic:!0,collisionFilter:{category:this.ballsCategory},collidesWith:[this.ballsCategory]});const s=t/30;for(let a=0;a<s;a++){const t=this.add.rectangle(5+32*a,600,10,280,16777215);this.matter.add.gameObject(t,{isStatic:!0,collisionFilter:{category:this.ballsCategory},collidesWith:[this.ballsCategory]})}this.add.text(10,10,"Score: 0",{font:"16px Courier",color:"#00ff00"}),this.balls=new Set,this.ballsText=this.add.text(690,10,"Balls: 100",{font:"16px Courier",color:"#00ff00"}),this.input.on("pointerdown",(t=>{this.createBall(t.worldX,t.worldY)}))}update(t,e){this.balls.size<300&&this.lastBallTime+10<t&&(this.lastBallTime=t,this.createBall(500+8*Math.random(),50)),this.balls.forEach((t=>{t.y>460&&t.setBounce(0),t.y>850&&(this.balls.delete(t),t.destroy())}))}createBall(t,e){const s=this.matter.add.image(t,e,"ball");s.setDisplaySize(16,16),s.setCircle(8),s.setFriction(.005),s.setBounce(.5),s.setCollisionCategory(this.ballsCategory),s.setCollidesWith([this.ballsCategory,this.pinsCategory,this.bucketCategory]),this.balls.add(s),this.ballsText.setText("Balls: "+this.balls.size)}}class r extends s.Scene{constructor(){super("GameOver"),e(this,"camera"),e(this,"background"),e(this,"gameover_text")}create(){this.camera=this.cameras.main,this.camera.setBackgroundColor(16711680),this.background=this.add.image(512,384,"background"),this.background.setAlpha(.5),this.gameover_text=this.add.text(512,384,"Game Over",{fontFamily:"Arial Black",fontSize:64,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}),this.gameover_text.setOrigin(.5),this.input.once("pointerdown",(()=>{this.scene.start("MainMenu")}))}}class o extends s.Scene{constructor(){super("MainMenu"),e(this,"background"),e(this,"logo"),e(this,"title")}create(){this.background=this.add.image(512,384,"background"),this.logo=this.add.image(512,300,"logo"),this.title=this.add.text(512,460,"Main Menu",{fontFamily:"Arial Black",fontSize:38,color:"#ffffff",stroke:"#000000",strokeThickness:8,align:"center"}).setOrigin(.5),this.input.once("pointerdown",(()=>{this.scene.start("Game")}))}}class l extends s.Scene{constructor(){super("Preloader")}init(){this.add.image(512,384,"background"),this.add.rectangle(512,384,468,32).setStrokeStyle(1,16777215);const t=this.add.rectangle(282,384,4,28,16777215);this.load.on("progress",(e=>{t.width=4+460*e}))}preload(){this.load.setPath("assets"),this.load.image("logo","logo.png")}create(){this.scene.start("Game")}}const n={type:Phaser.AUTO,width:1024,height:768,parent:"game-container",backgroundColor:"#028af8",scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH},scene:[a,l,o,i,r],physics:{default:"matter",matter:{enableSleeping:!1,gravity:{y:1,x:0}}}};new s.Game(n);
